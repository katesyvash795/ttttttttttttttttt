var goToCartButton=document.querySelector(".js-go-to-cart");goToCartButton.addEventListener("click",(function(){window.location.href="./index.html"}));var container=document.querySelector(".js-list"),PRODUCT_LS_KEY="chekout",products=JSON.parse(localStorage.getItem(PRODUCT_LS_KEY))||[];function createMarkup(t){return t.map((function(t){var e=t.id,o=t.img,n=t.name,c=t.category,a=t.text,r=t.author,s=t.link;return'\n    <li data-id="'.concat(e,'" class="js-product shopping-list-item">\n        <img src="').concat(o,'" alt="').concat(n,'" width="116" height="165" class="shop-img"/> \n        <div class="shop-item-div">\n            <div class="top-item-div">\n                <h2 class="shopping-list-title">').concat(n,'</h2>\n                <button class="js-remove" data-id="').concat(e,'">\n                    <svg width="22" height="22" class="shop-icons">\n                        <use href="./images/symbol-defs (4).svg#icon-trash"></use>\n                    </svg>\n                </button>\n            </div>\n            <p class="shopping-list-category">').concat(c,'</p>\n            <p class="shopping-list-text">').concat(limitWords(a,4),'</p>\n            <div class="author-icons">\n                <p class="shopping-list-author">').concat(r,'</p>\n                <div class="book-links">\n                    ').concat(createBookLinks(s),"\n                </div>\n            </div>\n        </div>\n    </li>\n")})).join("")}function createBookLinks(t){return t.map((function(t){return'<a href="'.concat(t.url,'" target="_blank">').concat(t.marketplace,"</a>")})).join("")}if(null===localStorage.getItem("chekout")){var hiddenElement=document.querySelector(".is-hidden");hiddenElement.classList.remove("is-hidden")}else{var markup=createMarkup(products);container.insertAdjacentHTML("beforeend",markup)}var removeButtons=document.querySelectorAll(".js-remove");function removeProduct(t){var e=t.target.closest(".js-product");e&&(e.remove(),localStorage.removeItem("chekout"),console.log("Данные удалены из локального хранилища."),updateLocalStorage())}function updateLocalStorage(){var t=[];(removeButtons.forEach((function(e){var o=e.getAttribute("data-id");t.push(o)})),0===t.length)&&document.querySelector(".message").classList.remove("is-hidden");localStorage.setItem("selectedProducts",JSON.stringify(t)),console.log(localStorage)}function limitWords(t,e){var o=t.split(" ");return o.length<=e?t:o.slice(0,e).join(" ")+" ..."}window.addEventListener("beforeunload",(function(){localStorage.setItem(PRODUCT_LS_KEY)})),removeButtons.forEach((function(t){t.addEventListener("click",removeProduct)}));
//# sourceMappingURL=chekout.ea18cffe.js.map
