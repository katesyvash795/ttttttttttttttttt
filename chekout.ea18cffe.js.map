{"mappings":"AAAA,IAAMA,eAAiBC,SAASC,cAAc,kBAE9CF,eAAeG,iBAAiB,SAAS,WACvCC,OAAOC,SAASC,KAAO,c,IAEzB,IAAMC,UAAUN,SAASC,cAAc,YACjCM,eAAe,UACfC,SAAWC,KAAKC,MAAMC,aAAaC,QAAQL,kBAAkB,GACnE,SAASM,aAAcC,GACnB,OAAOA,EAAIC,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAGF,EAAHE,IAAKC,EAAIH,EAAJG,KAAMC,EAAQJ,EAARI,SAAUC,EAAIL,EAAJK,KAAMC,EAAMN,EAANM,OAAQC,EAAIP,EAAJO,K,MAAW,sBAEpDC,OADDP,EAAG,gEACWO,OAAbN,EAAI,WAG0BM,OAHjBL,EAAK,iLAIeK,OADHL,EAAK,8DAOPK,OANKP,EAAG,0RAOZO,OADIJ,EAAS,oDAGPI,OAFNC,WAAWJ,EAAM,GAAG,kGAI1CG,OAF4BF,EAAO,wEAEbE,OAAtBE,gBAAgBH,GAAM,4E,IAKzCI,KAAK,G,CAIR,SAASD,gBAAgBE,GACrB,OAAOA,EAAMb,KAAI,SAAAQ,G,MAAQ,YAAyCC,OAA7BD,EAAKM,IAAI,sBAAqCL,OAAjBD,EAAKO,YAAY,O,IAAOH,KAAK,G,CAEnG,GAAwC,OAApChB,aAAaC,QAAQ,WAAqB,CAEN,IAA9BmB,cAAgB/B,SAASC,cAAc,cAC7C8B,cAAcC,UAAUC,OAAO,Y,KAE9B,CAE+C,IAA1CC,OAASrB,aAAaL,UAC5BF,UAAU6B,mBAAmB,YAAYD,O,CAIN,IAAnCE,cAAgBpC,SAASqC,iBAAiB,cAGrB,SAAhBC,cAAcC,GACrB,IAAIC,EAAYD,EAAME,OAAOC,QAAQ,eACjCF,IACFA,EAAUP,SACVtB,aAAagC,WAAW,WACxBC,QAAQC,IAAI,2CACsBC,qB,CAKhB,SAAbA,qBACP,IAAIC,EAAa,IAEjBX,cAAcY,SAAQ,SAAUC,GAC9B,IAAIhC,EAAKgC,EAAOC,aAAa,WAC7BH,EAAWI,KAAKlC,E,IAEM,IAAtB8B,EAAWK,SACYpD,SAASC,cAAc,YAC/B+B,UAAUC,OAAO,aAElCtB,aAAa0C,QAAQ,mBAAoB5C,KAAK6C,UAAUP,IAC1DH,QAAQC,IAAIlC,a,CAiBZ,SAASc,WAAWJ,EAAMkC,GACtB,IAAMC,EAAQnC,EAAKoC,MAAM,KACzB,OAAID,EAAMJ,QAAUG,EACTlC,EAEAmC,EAAME,MAAM,EAAGH,GAAO5B,KAAK,KAAO,M,CAlBjDxB,OAAOD,iBAAiB,gBAAgB,WAEpCS,aAAa0C,QAAQ9C,e,IAQzB6B,cAAcY,SAAQ,SAAUC,GAC9BA,EAAO/C,iBAAiB,QAASoC,c","sources":["src/chekout.js"],"sourcesContent":["const goToCartButton = document.querySelector(\".js-go-to-cart\");\n\ngoToCartButton.addEventListener(\"click\", function () {\n  window.location.href = \"./index.html\";\n});\nconst container=document.querySelector(\".js-list\");\nconst PRODUCT_LS_KEY='chekout';\nconst products = JSON.parse(localStorage.getItem(PRODUCT_LS_KEY))||[];\nfunction createMarkup (arr) {\n    return arr.map(({ id, img, name, category, text, author, link }) => `\n    <li data-id=\"${id}\" class=\"js-product shopping-list-item\">\n        <img src=\"${img}\" alt=\"${name}\" width=\"116\" height=\"165\" class=\"shop-img\"/> \n        <div class=\"shop-item-div\">\n            <div class=\"top-item-div\">\n                <h2 class=\"shopping-list-title\">${name}</h2>\n                <button class=\"js-remove\" data-id=\"${id}\">\n                    <svg width=\"22\" height=\"22\" class=\"shop-icons\">\n                        <use href=\"./images/symbol-defs (4).svg#icon-trash\"></use>\n                    </svg>\n                </button>\n            </div>\n            <p class=\"shopping-list-category\">${category}</p>\n            <p class=\"shopping-list-text\">${limitWords(text, 4)}</p>\n            <div class=\"author-icons\">\n                <p class=\"shopping-list-author\">${author}</p>\n                <div class=\"book-links\">\n                    ${createBookLinks(link)}\n                </div>\n            </div>\n        </div>\n    </li>\n`).join(\"\");\n\n    \n}\nfunction createBookLinks(links) {\n    return links.map(link => `<a href=\"${link.url}\" target=\"_blank\">${link.marketplace}</a>`).join(\"\");\n}\nif (localStorage.getItem('chekout') === null) {\n    // Если данных нет, выводим сообщение \"Книг нет\"\n    const hiddenElement = document.querySelector('.is-hidden');\n    hiddenElement.classList.remove('is-hidden');\n} \nelse {\n    // Если данные уже есть в локальном хранилище, используем их\n    const markup = createMarkup(products);\n    container.insertAdjacentHTML('beforeend',markup);\n}\n\n// Отримати список усіх кнопок \"прибрати з кошика\"\nvar removeButtons = document.querySelectorAll(\".js-remove\");\n\n// Функція для видалення об'єкта\nfunction removeProduct(event) {\n  var liElement = event.target.closest(\".js-product\");\n  if (liElement) {\n    liElement.remove();\n    localStorage.removeItem('chekout');\n    console.log('Данные удалены из локального хранилища.');\n    updateLocalStorage(); // Оновити локальне сховище після видалення\n  }\n}\n\n// Оновити локальне сховище\nfunction updateLocalStorage() {\n  var productIds = [];\n\n  removeButtons.forEach(function (button) {\n    var id = button.getAttribute(\"data-id\");\n    productIds.push(id);\n  });\nif (productIds.length === 0) {\n    const messageElement = document.querySelector('.message');\n    messageElement.classList.remove('is-hidden');\n  }\n  localStorage.setItem(\"selectedProducts\", JSON.stringify(productIds));\nconsole.log(localStorage);\n\n}\n\nwindow.addEventListener(\"beforeunload\", function () {\n    // localStorage.setItem(PRODUCT_LS_KEY, null);\n    localStorage.setItem(PRODUCT_LS_KEY);\n}\n);\n\n\n\n\n// Додати обробник події для кожної кнопки \"прибрати з кошика\"\nremoveButtons.forEach(function (button) {\n  button.addEventListener(\"click\", removeProduct);\n});\nfunction limitWords(text, limit) {\n    const words = text.split(\" \");\n    if (words.length <= limit) {\n        return text;\n    } else {\n        return words.slice(0, limit).join(\" \") + \" ...\";\n    }\n}\n"],"names":["goToCartButton","document","querySelector","addEventListener","window","location","href","container","PRODUCT_LS_KEY","products","JSON","parse","localStorage","getItem","createMarkup","arr","map","param","id","img","name","category","text","author","link","concat","limitWords","createBookLinks","join","links","url","marketplace","hiddenElement","classList","remove","markup","insertAdjacentHTML","removeButtons","querySelectorAll","removeProduct","event","liElement","target","closest","removeItem","console","log","updateLocalStorage","productIds","forEach","button","getAttribute","push","length","setItem","stringify","limit","words","split","slice"],"version":3,"file":"chekout.ea18cffe.js.map"}